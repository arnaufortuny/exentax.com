import{a as p,j as e,U as pe,P as he,y as K,t as F,E as be,F as _,H as J,J as fe,B as Q,G as ge,K as je,N as ye,O as X,Q as Ne,T as we}from"./react-vendor-0u4i6o3R.js";import{u as ve,m as Z}from"./vendor-CcWLwBcD.js";import{a as ke,t as Ce}from"./forms-soYwKzaw.js";import{u as Ee,N as Ae,F as Se,a as v}from"./index-CLIhc-sl.js";import{u as De,S as Ie,F as Te,e as C,f as i,g as o,h,i as c,I as j,j as m,B as r,k as V,m as Pe,n as Fe,o as Ve,p as Me,q as Le,l as ee}from"./ui-components-C65bcPfg.js";import{u as Re}from"./use-form-draft-BwdBgsUC.js";import{o as Be,b as te,s as x}from"./validation-D376FIhw.js";import"./tanstack-BGyfl4P4.js";import"./i18n-CerrjaX-.js";import"./radix-ui-CJuqdRty.js";const Oe=12,Ue=["Tecnolog√≠a y Software (SaaS, desarrollo web/apps, IT services)","E-commerce (tienda online, dropshipping, Amazon FBA)","Consultor√≠a y Servicios Profesionales (consultor√≠a, coaching, asesor√≠a)","Marketing y Publicidad (agencia digital, social media, SEO/SEM)","Educaci√≥n y Formaci√≥n (cursos online, academia digital, e-learning)","Contenido Digital y Medios (producci√≥n audiovisual, podcast, influencer)","Dise√±o y Creatividad (dise√±o gr√°fico, fotograf√≠a, web design)","Servicios Financieros (contabilidad, gesti√≥n fiscal, inversiones)","Salud y Bienestar (coaching wellness, nutrici√≥n online, fitness)","Inmobiliaria (inversi√≥n, gesti√≥n de propiedades)","Importaci√≥n / Exportaci√≥n (comercio internacional, distribuci√≥n)","Servicios Legales (preparaci√≥n de documentos, servicios paralegal)","Trading e Inversiones (forex, criptomonedas, bolsa)","Entretenimiento (gaming, eventos, producci√≥n)","Retail y Comercio (venta minorista, distribuci√≥n de productos)","Otra (especificar)"],qe=Be({ownerFullName:x().min(1,"Este campo es obligatorio"),ownerPhone:x().min(1,"Este campo es obligatorio"),ownerEmail:x().email("Email inv√°lido"),ownerBirthDate:x().min(1,"Este campo es obligatorio"),ownerIdType:x().min(1,"Este campo es obligatorio"),ownerIdNumber:x().min(1,"Este campo es obligatorio"),ownerCountryResidency:x().min(1,"Este campo es obligatorio"),ownerAddress:x().min(1,"Este campo es obligatorio"),companyName:x().min(1,"Este campo es obligatorio"),businessActivity:x().min(1,"Este campo es obligatorio"),businessCategory:x().min(1,"Este campo es obligatorio"),needsBankAccount:x().min(1,"Este campo es obligatorio"),notes:x().optional(),otp:x().optional(),password:x().optional(),paymentMethod:x().optional(),discountCode:x().optional(),dataProcessingConsent:te().refine(d=>d===!0,"Debes aceptar"),termsConsent:te().refine(d=>d===!0,"Debes aceptar")});function et(){const{user:d,isAuthenticated:w,refetch:ae}=Ee(),[,M]=ve(),[l,y]=p.useState(0),[$e,L]=p.useState(""),[se,re]=p.useState(!1),[ne,D]=p.useState(!1),[le,R]=p.useState(!1),[B,ie]=p.useState(""),[E,O]=p.useState(!1),[I,T]=p.useState(!1),[U,q]=p.useState(!1),[f,S]=p.useState(null),[$,z]=p.useState(!1),{toast:u}=De(),A=new URLSearchParams(window.location.search).get("state")||"New Mexico",a=ke({resolver:Ce(qe),defaultValues:{ownerFullName:"",ownerPhone:"",ownerEmail:"",ownerBirthDate:"",ownerIdType:"DNI",ownerIdNumber:"",ownerCountryResidency:"",ownerAddress:"",companyName:"",businessActivity:"",businessCategory:"",needsBankAccount:"",notes:"",otp:"",password:"",paymentMethod:"transfer",discountCode:"",dataProcessingConsent:!1,termsConsent:!1}}),G=p.useRef(l);l>G.current,p.useEffect(()=>{G.current=l},[l]);const oe={ownerFullName:"",ownerPhone:"",ownerEmail:"",ownerBirthDate:"",ownerIdType:"DNI",ownerIdNumber:"",ownerCountryResidency:"",ownerAddress:"",companyName:"",businessActivity:"",businessCategory:"",needsBankAccount:"",notes:"",otp:"",password:"",paymentMethod:"transfer",dataProcessingConsent:!1,termsConsent:!1},{clearDraft:H}=Re({form:a,storageKey:"application-wizard-draft",debounceMs:1e3,defaultValues:oe});p.useEffect(()=>{if(w&&d){const s=[d.address,d.streetType,d.city,d.province,d.postalCode,d.country].filter(Boolean).join(", ");a.reset({...a.getValues(),ownerFullName:`${d.firstName||""} ${d.lastName||""}`.trim(),ownerEmail:d.email||"",ownerPhone:d.phone||"",ownerAddress:s||a.getValues().ownerAddress,ownerCountryResidency:d.country||a.getValues().ownerCountryResidency,businessActivity:d.businessActivity||a.getValues().businessActivity}),d.emailVerified&&D(!0)}},[w,d,a]);const ce=async t=>{q(!0);try{const n=await(await v("POST","/api/auth/check-email",{email:t})).json();return R(n.exists),ie(n.firstName||""),n.exists}catch{return!1}finally{q(!1)}},W=()=>({"New Mexico":73900,Wyoming:89900,Delaware:119900})[A]||73900,de=async t=>{if(!t.trim()){S(null);return}z(!0);try{const n=await(await v("POST","/api/discount-codes/validate",{code:t.trim(),orderAmount:W()})).json();S(n),n.valid?u({title:"C√≥digo aplicado",description:`Descuento de ${(n.discountAmount/100).toFixed(2)}‚Ç¨`}):u({title:"C√≥digo inv√°lido",description:n.message,variant:"destructive"})}catch{S({valid:!1,discountAmount:0,message:"Error al validar"})}finally{z(!1)}},b=async()=>{const s={0:["ownerFullName"],1:["ownerPhone"],2:["ownerEmail"],3:["ownerBirthDate"],4:["ownerIdType","ownerIdNumber"],5:["ownerCountryResidency"],6:["ownerAddress"],7:["companyName"],8:["businessActivity"],9:["businessCategory"],10:["needsBankAccount"],11:["notes"]}[l];if(!(s&&!await a.trigger(s))){if(l===2){const n=a.getValues("ownerEmail");if(await ce(n)&&!w){y(12);return}}y(l===11?w||ne?14:13:n=>n+1)}},g=()=>{l>0&&y(t=>t-1)},me=async()=>{const t=a.getValues("ownerEmail"),s=a.getValues("password");if(!s||s.length<1){u({title:"Introduce tu contrase√±a",variant:"destructive"});return}try{const n=await v("POST","/api/login",{email:t,password:s});if(!n.ok){const N=await n.json();u({title:N.message||"Contrase√±a incorrecta",variant:"destructive"});return}await ae(),D(!0),u({title:"Sesi√≥n iniciada correctamente"}),y(3)}catch{u({title:"Error al iniciar sesi√≥n",variant:"destructive"})}},Y=async()=>{const t=a.getValues("ownerEmail");try{const s=await v("POST","/api/register/send-otp",{email:t});if(!s.ok){const n=await s.json();u({title:n.message||"Error",variant:"destructive"});return}re(!0),u({title:"C√≥digo enviado a tu email"})}catch{u({title:"Error al enviar c√≥digo",variant:"destructive"})}},xe=async()=>{const t=a.getValues("ownerEmail"),s=a.getValues("otp");try{if(!(await v("POST","/api/register/verify-otp",{email:t,otp:s})).ok){u({title:"C√≥digo incorrecto",variant:"destructive"});return}D(!0),u({title:"Email verificado"}),y(14)}catch{u({title:"C√≥digo incorrecto",variant:"destructive"})}},ue=async t=>{if(!I){T(!0);try{const s=A.includes("Wyoming")?2:A.includes("Delaware")?3:1;if(w){const n={productId:s};f?.valid&&t.discountCode&&(n.discountCode=t.discountCode,n.discountAmount=f.discountAmount);const N=await v("POST","/api/orders",n);if(!N.ok){const P=await N.json();throw new Error(P.message||"Error al crear pedido")}const k=await N.json();await v("PUT",`/api/llc/${k.application.id}`,{...t,state:A,status:"submitted"}),L(k.application.requestCode||""),u({title:"Solicitud enviada correctamente"}),H(),M(`/contacto?success=true&type=llc&orderId=${encodeURIComponent(k.application.requestCode||"")}`)}else{if(!t.password||t.password.length<8){u({title:"La contrase√±a debe tener al menos 8 caracteres",variant:"destructive"}),T(!1);return}const n={productId:s,email:t.ownerEmail,password:t.password,ownerFullName:t.ownerFullName,paymentMethod:t.paymentMethod||"transfer"};f?.valid&&t.discountCode&&(n.discountCode=t.discountCode,n.discountAmount=f.discountAmount);const N=await v("POST","/api/orders",n);if(!N.ok){const P=await N.json();throw new Error(P.message||"Error al crear pedido")}const k=await N.json();await v("PUT",`/api/llc/${k.application.id}`,{...t,state:A,status:"submitted"}),L(k.application.requestCode||""),u({title:"Solicitud enviada y cuenta creada"}),H(),M(`/contacto?success=true&type=llc&orderId=${encodeURIComponent(k.application.requestCode||"")}`)}}catch(s){u({title:s.message||"Error al enviar",variant:"destructive"})}finally{T(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-background font-sans w-full",children:[e.jsx(Ae,{}),e.jsxs("main",{className:"pt-24 pb-16 max-w-4xl mx-auto px-5 sm:px-6 md:px-8",children:[e.jsxs("h1",{className:"text-3xl md:text-4xl font-black mb-4 text-primary leading-tight text-center",children:["Constituir mi ",e.jsx("span",{className:"text-accent",children:"LLC"})]}),!w&&e.jsxs("div",{className:"mb-8 flex items-center justify-center gap-2 text-sm",children:[e.jsx("span",{className:"text-muted-foreground font-medium",children:"¬øYa tienes cuenta?"}),e.jsx(Z,{href:"/login",children:e.jsx("button",{className:"text-primary font-black hover:underline",children:"Inicia sesi√≥n"})})]}),e.jsxs("div",{children:[e.jsx(Ie,{currentStep:l,totalSteps:Oe,className:"mb-6"}),e.jsx("div",{className:"space-y-6",children:e.jsx(Te,{...a,children:e.jsxs("form",{className:"space-y-6 md:space-y-8",onSubmit:a.handleSubmit(ue),children:[l===0&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-primary border-b border-accent/20 pb-2 leading-tight flex items-center gap-2",children:[e.jsx(pe,{className:"w-6 h-6 text-accent"})," 1Ô∏è‚É£ ¬øC√≥mo te llamas?"]}),e.jsx(C,{children:"Tal y como aparece en tu documento oficial"}),e.jsx(i,{control:a.control,name:"ownerFullName",render:({field:t})=>e.jsxs(o,{children:[e.jsx(h,{className:"text-sm md:text-base font-black text-primary flex items-center gap-2",children:"Nombre completo:"}),e.jsx(c,{children:e.jsx(j,{...t,className:"rounded-full h-11 md:h-14 px-4 md:px-6 border-border focus:border-accent transition-all font-black text-primary text-lg","data-testid":"input-owner-name"})}),e.jsx(m,{})]})}),e.jsx(r,{type:"button",onClick:b,className:"w-full bg-accent text-primary font-black h-11 md:h-12 rounded-full text-sm md:text-base shadow-lg shadow-[#6EDC8A]/20 active:scale-95 transition-all","data-testid":"button-next-step",children:"Siguiente"})]},"step-0"),l===1&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-primary border-b border-accent/20 pb-2 leading-tight flex items-center gap-2",children:[e.jsx(he,{className:"w-6 h-6 text-accent"})," 2Ô∏è‚É£ Tel√©fono de contacto"]}),e.jsx(C,{children:"Para comunicarnos contigo r√°pidamente si hace falta"}),e.jsx(i,{control:a.control,name:"ownerPhone",render:({field:t})=>e.jsxs(o,{children:[e.jsx(h,{className:"text-sm md:text-base font-black text-primary flex items-center gap-2",children:"Tel√©fono:"}),e.jsx(c,{children:e.jsx(j,{...t,className:"rounded-full h-11 md:h-14 px-4 md:px-6 border-border focus:border-accent transition-all font-black text-primary text-lg","data-testid":"input-phone"})}),e.jsx(m,{})]})}),e.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[e.jsx(r,{type:"button",variant:"outline",onClick:g,className:"flex-1 rounded-full h-10 md:h-12 font-black border-border active:scale-95 transition-all text-sm md:text-base","data-testid":"button-prev",children:"Atr√°s"}),e.jsx(r,{type:"button",onClick:b,className:"flex-1 bg-accent text-primary font-black rounded-full h-10 md:h-12 shadow-lg shadow-[#6EDC8A]/20 active:scale-95 transition-all text-sm md:text-base","data-testid":"button-next",children:"Siguiente"})]})]},"step-1"),l===2&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-primary border-b border-accent/20 pb-2 leading-tight flex items-center gap-2",children:[e.jsx(K,{className:"w-6 h-6 text-accent"})," 3Ô∏è‚É£ Email"]}),e.jsx(C,{children:"Aqu√≠ recibir√°s toda la documentaci√≥n y avisos importantes"}),e.jsx(i,{control:a.control,name:"ownerEmail",render:({field:t})=>e.jsxs(o,{children:[e.jsx(h,{className:"text-sm md:text-base font-black text-primary flex items-center gap-2",children:"Email:"}),e.jsx(c,{children:e.jsx(j,{...t,type:"email",inputMode:"email",className:"rounded-full h-11 md:h-14 px-4 md:px-6 border-border focus:border-accent transition-all font-black text-primary text-lg","data-testid":"input-email"})}),e.jsx(m,{})]})}),e.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[e.jsx(r,{type:"button",variant:"outline",onClick:g,className:"flex-1 rounded-full h-10 md:h-12 font-black border-border active:scale-95 transition-all text-sm md:text-base",children:"Atr√°s"}),e.jsx(r,{type:"button",onClick:b,disabled:U,className:"flex-1 bg-accent text-primary font-black rounded-full h-10 md:h-12 shadow-lg shadow-[#6EDC8A]/20 active:scale-95 transition-all text-sm md:text-base",children:U?e.jsx(F,{className:"animate-spin"}):"Siguiente"})]})]},"step-2"),l===12&&le&&!w&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-primary border-b border-accent/20 pb-2 leading-tight flex items-center gap-2",children:[e.jsx(be,{className:"w-6 h-6 text-accent"})," ¬°Hola de nuevo",B?`, ${B}`:"","!"]}),e.jsx("p",{className:"text-muted-foreground",children:"Ya tienes una cuenta con este email. Introduce tu contrase√±a para continuar."}),e.jsx(i,{control:a.control,name:"password",render:({field:t})=>e.jsxs(o,{children:[e.jsx(h,{className:"text-sm md:text-base font-black text-primary",children:"Contrase√±a:"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{children:e.jsx(j,{...t,type:E?"text":"password",className:"rounded-full h-11 md:h-14 px-4 md:px-6 pr-12 border-border focus:border-accent transition-all font-black text-primary text-lg","data-testid":"input-password"})}),e.jsx("button",{type:"button",onClick:()=>O(!E),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground",children:E?e.jsx(_,{className:"w-5 h-5"}):e.jsx(J,{className:"w-5 h-5"})})]}),e.jsx(m,{})]})}),e.jsx(r,{type:"button",onClick:me,className:"w-full bg-accent text-primary font-black h-11 md:h-12 rounded-full text-sm md:text-base shadow-lg shadow-[#6EDC8A]/20 active:scale-95 transition-all","data-testid":"button-login",children:"Iniciar Sesi√≥n y Continuar"}),e.jsx(Z,{href:"/forgot-password",className:"block text-center text-sm text-muted-foreground hover:underline",children:"¬øOlvidaste tu contrase√±a?"}),e.jsx(r,{type:"button",variant:"link",onClick:()=>{R(!1),y(2)},className:"w-full text-sm",children:"Usar otro email"})]},"step-login"),l===3&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-primary border-b border-accent/20 pb-2 leading-tight flex items-center gap-2",children:[e.jsx(fe,{className:"w-6 h-6 text-accent"})," 4Ô∏è‚É£ Fecha de nacimiento"]}),e.jsx(i,{control:a.control,name:"ownerBirthDate",render:({field:t})=>e.jsxs(o,{children:[e.jsx(h,{className:"text-sm md:text-base font-black text-primary flex items-center gap-2",children:"Fecha:"}),e.jsx(c,{children:e.jsx(j,{...t,type:"date",className:"rounded-full h-11 md:h-14 px-4 md:px-6 border-border focus:border-accent transition-all font-black text-primary text-lg","data-testid":"input-birthdate"})}),e.jsx(m,{})]})}),e.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[e.jsx(r,{type:"button",variant:"outline",onClick:g,className:"flex-1 rounded-full h-10 md:h-12 font-black border-border active:scale-95 transition-all text-sm md:text-base",children:"Atr√°s"}),e.jsx(r,{type:"button",onClick:b,className:"flex-1 bg-accent text-primary font-black rounded-full h-10 md:h-12 shadow-lg shadow-[#6EDC8A]/20 active:scale-95 transition-all text-sm md:text-base",children:"Siguiente"})]})]},"step-3"),l===4&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-primary border-b border-accent/20 pb-2 leading-tight flex items-center gap-2",children:[e.jsx(Q,{className:"w-6 h-6 text-accent"})," 5Ô∏è‚É£ Documento de identidad"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(i,{control:a.control,name:"ownerIdType",render:({field:t})=>e.jsxs(o,{className:"space-y-3",children:[e.jsx(h,{className:"font-black text-[10px] text-primary",children:"Tipo de documento:"}),e.jsx(c,{children:e.jsx("div",{className:"flex flex-col gap-3",children:["DNI","Pasaporte"].map(s=>e.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-full border border-border bg-white dark:bg-zinc-900 hover:border-accent cursor-pointer transition-all active:scale-[0.98]",children:[e.jsx("input",{type:"radio",...t,value:s,checked:t.value===s,className:"w-5 h-5 accent-[#6EDC8A]"}),e.jsx("span",{className:"font-black text-primary text-sm md:text-base",children:s})]},s))})}),e.jsx(m,{})]})}),e.jsx(i,{control:a.control,name:"ownerIdNumber",render:({field:t})=>e.jsxs(o,{children:[e.jsx(h,{className:"text-sm md:text-base font-black text-primary flex items-center gap-2",children:"N√∫mero del documento:"}),e.jsx(c,{children:e.jsx(j,{...t,className:"rounded-full h-11 md:h-14 px-4 md:px-6 border-border focus:border-accent transition-all font-black text-primary text-lg","data-testid":"input-id-number"})}),e.jsx(m,{})]})})]}),e.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[e.jsx(r,{type:"button",variant:"outline",onClick:g,className:"flex-1 rounded-full h-10 md:h-12 font-black border-border active:scale-95 transition-all text-sm md:text-base",children:"Atr√°s"}),e.jsx(r,{type:"button",onClick:b,className:"flex-1 bg-accent text-primary font-black rounded-full h-10 md:h-12 shadow-lg shadow-[#6EDC8A]/20 active:scale-95 transition-all text-sm md:text-base",children:"Siguiente"})]})]},"step-4"),l===5&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-primary border-b border-accent/20 pb-2 leading-tight flex items-center gap-2",children:[e.jsx(ge,{className:"w-6 h-6 text-accent"})," 6Ô∏è‚É£ Pa√≠s de residencia"]}),e.jsx(i,{control:a.control,name:"ownerCountryResidency",render:({field:t})=>e.jsxs(o,{children:[e.jsx(h,{className:"text-sm md:text-base font-black text-primary flex items-center gap-2",children:"Pa√≠s:"}),e.jsx(c,{children:e.jsx(j,{...t,className:"rounded-full h-11 md:h-14 px-4 md:px-6 border-border focus:border-accent transition-all font-black text-primary text-lg","data-testid":"input-country"})}),e.jsx(m,{})]})}),e.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[e.jsx(r,{type:"button",variant:"outline",onClick:g,className:"flex-1 rounded-full h-10 md:h-12 font-black border-border active:scale-95 transition-all text-sm md:text-base",children:"Atr√°s"}),e.jsx(r,{type:"button",onClick:b,className:"flex-1 bg-accent text-primary font-black rounded-full h-10 md:h-12 shadow-lg shadow-[#6EDC8A]/20 active:scale-95 transition-all text-sm md:text-base",children:"Siguiente"})]})]},"step-5"),l===6&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-primary border-b border-accent/20 pb-2 leading-tight flex items-center gap-2",children:[e.jsx(je,{className:"w-6 h-6 text-accent"})," 7Ô∏è‚É£ Direcci√≥n completa"]}),e.jsx(C,{children:"Calle, n√∫mero, ciudad, c√≥digo postal y pa√≠s"}),e.jsx(i,{control:a.control,name:"ownerAddress",render:({field:t})=>e.jsxs(o,{children:[e.jsx(h,{className:"text-sm md:text-base font-black text-primary flex items-center gap-2",children:"Direcci√≥n:"}),e.jsx(c,{children:e.jsx(V,{...t,className:"rounded-[2rem] min-h-[120px] p-6 border-border focus:border-accent transition-all font-black text-primary text-lg","data-testid":"input-address"})}),e.jsx(m,{})]})}),e.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[e.jsx(r,{type:"button",variant:"outline",onClick:g,className:"flex-1 rounded-full h-10 md:h-12 font-black border-border active:scale-95 transition-all text-sm md:text-base",children:"Atr√°s"}),e.jsx(r,{type:"button",onClick:b,className:"flex-1 bg-accent text-primary font-black rounded-full h-10 md:h-12 shadow-lg shadow-[#6EDC8A]/20 active:scale-95 transition-all text-sm md:text-base",children:"Siguiente"})]})]},"step-6"),l===7&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-primary border-b border-accent/20 pb-2 leading-tight flex items-center gap-2",children:[e.jsx(ye,{className:"w-6 h-6 text-accent"})," 8Ô∏è‚É£ Nombre deseado para la LLC"]}),e.jsx(C,{children:"Si tienes varias opciones, pon la principal aqu√≠"}),e.jsx(i,{control:a.control,name:"companyName",render:({field:t})=>e.jsxs(o,{children:[e.jsx(h,{className:"text-sm md:text-base font-black text-primary flex items-center gap-2",children:"Nombre deseado:"}),e.jsx(c,{children:e.jsx(j,{...t,className:"rounded-full h-11 md:h-14 px-4 md:px-6 border-border focus:border-accent transition-all font-black text-primary text-lg","data-testid":"input-company-name"})}),e.jsx(m,{})]})}),e.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[e.jsx(r,{type:"button",variant:"outline",onClick:g,className:"flex-1 rounded-full h-10 md:h-12 font-black border-border active:scale-95 transition-all text-sm md:text-base",children:"Atr√°s"}),e.jsx(r,{type:"button",onClick:b,className:"flex-1 bg-accent text-primary font-black rounded-full h-10 md:h-12 shadow-lg shadow-[#6EDC8A]/20 active:scale-95 transition-all text-sm md:text-base",children:"Siguiente"})]})]},"step-7"),l===8&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-primary border-b border-accent/20 pb-2 leading-tight flex items-center gap-2",children:[e.jsx(X,{className:"w-6 h-6 text-accent"})," 9Ô∏è‚É£ Actividad del negocio"]}),e.jsx(C,{children:"Expl√≠canos brevemente a qu√© se dedicar√° tu empresa, con tus propias palabras"}),e.jsx(i,{control:a.control,name:"businessActivity",render:({field:t})=>e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(V,{...t,className:"rounded-[2rem] min-h-[120px] p-6 border-border focus:border-accent transition-all font-black text-primary text-lg","data-testid":"input-business-activity"})}),e.jsx(m,{})]})}),e.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[e.jsx(r,{type:"button",variant:"outline",onClick:g,className:"flex-1 rounded-full h-10 md:h-12 font-black border-border active:scale-95 transition-all text-sm md:text-base",children:"Atr√°s"}),e.jsx(r,{type:"button",onClick:b,className:"flex-1 bg-accent text-primary font-black rounded-full h-10 md:h-12 shadow-lg shadow-[#6EDC8A]/20 active:scale-95 transition-all text-sm md:text-base",children:"Siguiente"})]})]},"step-8"),l===9&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-primary border-b border-accent/20 pb-2 leading-tight flex items-center gap-2",children:[e.jsx(X,{className:"w-6 h-6 text-accent"})," üîü Categor√≠a de negocio"]}),e.jsx(i,{control:a.control,name:"businessCategory",render:({field:t})=>e.jsxs(o,{children:[e.jsxs(Pe,{onValueChange:t.onChange,value:t.value||"",children:[e.jsx(c,{children:e.jsx(Fe,{className:"rounded-full h-11 md:h-14 px-4 md:px-6 border-border bg-white dark:bg-zinc-900 focus:ring-[#6EDC8A] font-black text-primary text-lg","data-testid":"select-category",children:e.jsx(Ve,{placeholder:"Seleccionar categor√≠a"})})}),e.jsx(Me,{children:Ue.map(s=>e.jsx(Le,{value:s,children:s},s))})]}),e.jsx(m,{})]})}),e.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[e.jsx(r,{type:"button",variant:"outline",onClick:g,className:"flex-1 rounded-full h-10 md:h-12 font-black border-border active:scale-95 transition-all text-sm md:text-base",children:"Atr√°s"}),e.jsx(r,{type:"button",onClick:b,className:"flex-1 bg-accent text-primary font-black rounded-full h-10 md:h-12 shadow-lg shadow-[#6EDC8A]/20 active:scale-95 transition-all text-sm md:text-base",children:"Siguiente"})]})]},"step-9"),l===10&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-primary border-b border-accent/20 pb-2 leading-tight flex items-center gap-2",children:[e.jsx(Ne,{className:"w-6 h-6 text-accent"})," 1Ô∏è‚É£1Ô∏è‚É£ ¬øNecesitas cuenta bancaria?"]}),e.jsx(C,{children:"Te ayudamos a abrirla en bancos como Mercury o Relay"}),e.jsx(i,{control:a.control,name:"needsBankAccount",render:({field:t})=>e.jsxs(o,{className:"space-y-3",children:[e.jsx(c,{children:e.jsx("div",{className:"flex flex-col gap-3",children:["S√≠","No","Ya tengo una"].map(s=>e.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-full border border-border bg-white dark:bg-zinc-900 hover:border-accent cursor-pointer transition-all active:scale-[0.98]",children:[e.jsx("input",{type:"radio",...t,value:s,checked:t.value===s,className:"w-5 h-5 accent-[#6EDC8A]"}),e.jsx("span",{className:"font-black text-primary text-sm md:text-base",children:s})]},s))})}),e.jsx(m,{})]})}),e.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[e.jsx(r,{type:"button",variant:"outline",onClick:g,className:"flex-1 rounded-full h-10 md:h-12 font-black border-border active:scale-95 transition-all text-sm md:text-base",children:"Atr√°s"}),e.jsx(r,{type:"button",onClick:b,className:"flex-1 bg-accent text-primary font-black rounded-full h-10 md:h-12 shadow-lg shadow-[#6EDC8A]/20 active:scale-95 transition-all text-sm md:text-base",children:"Siguiente"})]})]},"step-10"),l===11&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-primary border-b border-accent/20 pb-2 leading-tight flex items-center gap-2",children:[e.jsx(we,{className:"w-6 h-6 text-accent"})," 1Ô∏è‚É£2Ô∏è‚É£ ¬øAlgo m√°s que debamos saber?"]}),e.jsx(i,{control:a.control,name:"notes",render:({field:t})=>e.jsxs(o,{children:[e.jsx(c,{children:e.jsx(V,{...t,className:"rounded-[2rem] min-h-[120px] p-6 border-border focus:border-accent transition-all font-black text-primary text-lg","data-testid":"input-notes"})}),e.jsx(m,{})]})}),e.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[e.jsx(r,{type:"button",variant:"outline",onClick:g,className:"flex-1 rounded-full h-10 md:h-12 font-black border-border active:scale-95 transition-all text-sm md:text-base",children:"Atr√°s"}),e.jsx(r,{type:"button",onClick:b,className:"flex-1 bg-accent text-primary font-black rounded-full h-10 md:h-12 shadow-lg shadow-[#6EDC8A]/20 active:scale-95 transition-all text-sm md:text-base",children:"Siguiente"})]})]},"step-11"),l===13&&!w&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-primary border-b border-accent/20 pb-2 leading-tight flex items-center gap-2",children:[e.jsx(K,{className:"w-6 h-6 text-accent"})," Verificaci√≥n de Email"]}),se?e.jsxs("div",{className:"space-y-6",children:[e.jsx(i,{control:a.control,name:"otp",render:({field:t})=>e.jsxs(o,{children:[e.jsx(h,{className:"font-black",children:"Ingresa el c√≥digo de 6 d√≠gitos:"}),e.jsx(c,{children:e.jsx(j,{...t,className:"rounded-full h-14 text-center text-2xl tracking-[0.5em] font-black",maxLength:6,inputMode:"numeric","data-testid":"input-otp"})}),e.jsx(m,{})]})}),e.jsx(r,{type:"button",onClick:xe,className:"w-full bg-accent text-primary font-black h-11 md:h-12 rounded-full text-sm md:text-base shadow-lg shadow-[#6EDC8A]/20","data-testid":"button-verify-otp",children:"Verificar y Continuar"}),e.jsx("button",{type:"button",onClick:Y,className:"w-full text-xs text-muted-foreground hover:underline",children:"Reenviar c√≥digo"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Para continuar, debemos verificar tu correo electr√≥nico: ",e.jsx("strong",{children:a.getValues("ownerEmail")})]}),e.jsx(r,{type:"button",onClick:Y,className:"w-full bg-accent text-primary font-black h-11 md:h-12 rounded-full text-sm md:text-base shadow-lg","data-testid":"button-send-otp",children:"Enviar C√≥digo"})]}),e.jsx(r,{type:"button",variant:"link",onClick:()=>y(11),className:"w-full",children:"Atr√°s"})]},"step-otp"),l===14&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-primary border-b border-accent/20 pb-2 leading-tight flex items-center gap-2",children:[e.jsx(Q,{className:"w-6 h-6 text-accent"})," √öltimo paso: Confirmaci√≥n"]}),!w&&e.jsx("div",{className:"space-y-4 p-4 bg-gray-50 rounded-2xl",children:e.jsx(i,{control:a.control,name:"password",render:({field:t})=>e.jsxs(o,{children:[e.jsx(h,{className:"text-sm md:text-base font-black text-primary",children:"Crea una contrase√±a para tu cuenta (m√≠nimo 8 caracteres):"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{children:e.jsx(j,{...t,type:E?"text":"password",className:"rounded-full h-11 md:h-14 px-4 md:px-6 pr-12 border-border focus:border-accent transition-all font-black text-primary text-lg","data-testid":"input-new-password"})}),e.jsx("button",{type:"button",onClick:()=>O(!E),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground",children:E?e.jsx(_,{className:"w-5 h-5"}):e.jsx(J,{className:"w-5 h-5"})})]}),e.jsx(m,{})]})})}),e.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-2xl",children:[e.jsx("h3",{className:"font-black text-primary",children:"C√≥digo de descuento:"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{control:a.control,name:"discountCode",render:({field:t})=>e.jsx(o,{className:"flex-1",children:e.jsx(c,{children:e.jsx(j,{...t,className:"rounded-full h-11 px-4 border-border focus:border-accent uppercase",onChange:s=>{t.onChange(s.target.value.toUpperCase()),S(null)},"data-testid":"input-discount-code"})})})}),e.jsx(r,{type:"button",variant:"outline",onClick:()=>de(a.getValues("discountCode")||""),disabled:$||!a.getValues("discountCode"),className:"rounded-full h-11 px-6 font-black border-border","data-testid":"button-validate-discount",children:$?e.jsx(F,{className:"w-4 h-4 animate-spin"}):"Aplicar"})]}),f&&e.jsx("div",{className:`text-sm p-3 rounded-xl ${f.valid?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:f.valid?`Descuento aplicado: -${(f.discountAmount/100).toFixed(2)}‚Ç¨`:f.message}),f?.valid&&e.jsxs("div",{className:"flex justify-between text-sm font-semibold pt-2 border-t",children:[e.jsx("span",{children:"Total con descuento:"}),e.jsxs("span",{className:"text-[#6EDC8A] font-black",children:[((W()-f.discountAmount)/100).toFixed(2),"‚Ç¨"]})]})]}),e.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-2xl",children:[e.jsx("h3",{className:"font-black text-primary",children:"M√©todo de pago:"}),e.jsx(i,{control:a.control,name:"paymentMethod",render:({field:t})=>e.jsxs(o,{className:"space-y-3",children:[e.jsx(c,{children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("label",{className:"flex items-start gap-3 p-4 rounded-2xl border border-border bg-white dark:bg-zinc-900 hover:border-accent cursor-pointer transition-all",children:[e.jsx("input",{type:"radio",...t,value:"transfer",checked:t.value==="transfer",className:"w-5 h-5 mt-1 accent-[#6EDC8A]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-black text-primary text-sm md:text-base block",children:"Transferencia bancaria"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Fortuny Consulting LLC - Cuenta: 141432778929495 - Routing: 121145433 - Column N.A."})]})]}),e.jsxs("label",{className:"flex items-start gap-3 p-4 rounded-2xl border border-border bg-white dark:bg-zinc-900 hover:border-accent cursor-pointer transition-all",children:[e.jsx("input",{type:"radio",...t,value:"link",checked:t.value==="link",className:"w-5 h-5 mt-1 accent-[#6EDC8A]"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-black text-primary text-sm md:text-base block",children:"Enlace de pago"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Te enviaremos un enlace seguro por email"})]})]})]})}),e.jsx(m,{})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(i,{control:a.control,name:"dataProcessingConsent",render:({field:t})=>e.jsxs(o,{className:"flex flex-row items-start space-x-3 space-y-0 p-4 rounded-2xl bg-gray-50",children:[e.jsx(c,{children:e.jsx(ee,{checked:t.value,onCheckedChange:t.onChange,"data-testid":"checkbox-privacy"})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(h,{className:"text-xs md:text-sm font-medium",children:"Acepto el tratamiento de mis datos personales seg√∫n la pol√≠tica de privacidad."}),e.jsx(m,{})]})]})}),e.jsx(i,{control:a.control,name:"termsConsent",render:({field:t})=>e.jsxs(o,{className:"flex flex-row items-start space-x-3 space-y-0 p-4 rounded-2xl bg-gray-50",children:[e.jsx(c,{children:e.jsx(ee,{checked:t.value,onCheckedChange:t.onChange,"data-testid":"checkbox-terms"})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(h,{className:"text-xs md:text-sm font-medium",children:"He le√≠do y acepto los T√©rminos y Condiciones de Easy US LLC."}),e.jsx(m,{})]})]})})]}),e.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[e.jsx(r,{type:"button",variant:"outline",onClick:()=>y(11),className:"flex-1 rounded-full h-10 md:h-12 font-black border-border active:scale-95 transition-all text-sm md:text-base",children:"Atr√°s"}),e.jsx(r,{type:"submit",disabled:I,className:"flex-1 bg-accent text-primary font-black rounded-full h-10 md:h-12 shadow-lg shadow-[#6EDC8A]/20 active:scale-95 transition-all text-sm md:text-base","data-testid":"button-submit",children:I?e.jsx(F,{className:"animate-spin"}):"Enviar Solicitud"})]})]},"step-final")]})})})]})]}),e.jsx(Se,{})]})}export{et as default};
