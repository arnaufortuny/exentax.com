import{j as e,m as p}from"./vendor-rACX9Y5t.js";import{a as r,M as h,s as f}from"./ui-BDRs75dM.js";import{u as j,F as b,t as g,o as N,s as v}from"./form-BTpaeBvT.js";import{c as y,N as i,L as l,B as n,F as o,d as w}from"./index-BmcZvhzO.js";import{F as E}from"./form-input-jX--FoeL.js";import"./textarea-CkuaKn8P.js";import"./select-Dc_JaQim.js";import"./checkbox-CRSq1QK8.js";import"./label-Cp9cVBxA.js";const S=N({email:v().email("Email inválido")});function V(){const[t,a]=r.useState(!1),[c,m]=r.useState(!1),{toast:d}=y(),s=j({resolver:g(S),defaultValues:{email:""}}),x=async u=>{a(!0);try{await w("POST","/api/auth/forgot-password",u),m(!0)}catch{d({title:"Error",description:"No se pudo procesar la solicitud",variant:"destructive"})}finally{a(!1)}};return c?e.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[e.jsx(i,{}),e.jsx("main",{className:"pt-24 pb-16 px-4 flex flex-col items-center justify-center min-h-[80vh]",children:e.jsxs(p.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-[#6EDC8A] rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(h,{className:"w-8 h-8 text-primary"})}),e.jsxs("h1",{className:"text-2xl sm:text-3xl font-black text-primary tracking-tight mb-4",children:["Revisa tu ",e.jsx("span",{className:"text-accent",children:"Email"})]}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"Si el email existe en nuestro sistema, recibirás instrucciones para restablecer tu contraseña."}),e.jsx(l,{href:"/login",children:e.jsx(n,{variant:"outline",className:"rounded-full px-8 font-black",children:"Volver al Login"})})]})}),e.jsx(o,{})]}):e.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[e.jsx(i,{}),e.jsx("main",{className:"pt-24 pb-16 px-4 flex flex-col items-center justify-center min-h-[80vh]",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl font-black text-primary tracking-tight",children:["Recuperar ",e.jsx("span",{className:"text-accent",children:"Contraseña"})]}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Te enviaremos un enlace para restablecer tu contraseña"})]}),e.jsxs("div",{children:[e.jsx(b,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(x),className:"space-y-6",children:[e.jsx(E,{control:s.control,name:"email",label:"Email",type:"email",inputMode:"email",placeholder:"tu@email.com"}),e.jsx(n,{type:"submit",disabled:t,className:"w-full bg-[#6EDC8A] text-primary font-black py-7 rounded-full text-lg shadow-lg shadow-[#6EDC8A]/20 active:scale-95 transition-all","data-testid":"button-forgot-password",children:t?e.jsx(f,{className:"animate-spin"}):"Enviar Enlace"})]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(l,{href:"/login",children:e.jsx("span",{className:"text-sm text-muted-foreground hover:text-primary transition-colors cursor-pointer",children:"Volver al Login"})})})]})]})}),e.jsx(o,{})]})}export{V as default};
