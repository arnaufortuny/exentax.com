import{b as v}from"./react-vendor-0u4i6o3R.js";var he=e=>e.type==="checkbox",ne=e=>e instanceof Date,z=e=>e==null;const lt=e=>typeof e=="object";var N=e=>!z(e)&&!Array.isArray(e)&&lt(e)&&!ne(e),ot=e=>N(e)&&e.target?he(e.target)?e.target.checked:e.target.value:e,Ot=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ct=(e,s)=>e.has(Ot(s)),Rt=e=>{const s=e.constructor&&e.constructor.prototype;return N(s)&&s.hasOwnProperty("isPrototypeOf")},Oe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function L(e){if(e instanceof Date)return new Date(e);const s=typeof FileList<"u"&&e instanceof FileList;if(Oe&&(e instanceof Blob||s))return e;const t=Array.isArray(e);if(!t&&!(N(e)&&Rt(e)))return e;const i=t?[]:Object.create(Object.getPrototypeOf(e));for(const u in e)Object.prototype.hasOwnProperty.call(e,u)&&(i[u]=L(e[u]));return i}var _e=e=>/^\w*$/.test(e),O=e=>e===void 0,Re=e=>Array.isArray(e)?e.filter(Boolean):[],Te=e=>Re(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,s,t)=>{if(!s||!N(e))return t;const i=(_e(s)?[s]:Te(s)).reduce((u,n)=>z(u)?u:u[n],e);return O(i)||i===e?O(e[s])?t:e[s]:i},Y=e=>typeof e=="boolean",j=e=>typeof e=="function",S=(e,s,t)=>{let i=-1;const u=_e(s)?[s]:Te(s),n=u.length,o=n-1;for(;++i<n;){const c=u[i];let V=t;if(i!==o){const w=e[c];V=N(w)||Array.isArray(w)?w:isNaN(+u[i+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=V,e=e[c]}};const me={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},X={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},se={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ue=v.createContext(null);Ue.displayName="HookFormControlContext";const Le=()=>v.useContext(Ue);var ft=(e,s,t,i=!0)=>{const u={defaultValues:s._defaultValues};for(const n in e)Object.defineProperty(u,n,{get:()=>{const o=n;return s._proxyFormState[o]!==X.all&&(s._proxyFormState[o]=!i||X.all),t&&(t[o]=!0),e[o]}});return u};const Me=typeof window<"u"?v.useLayoutEffect:v.useEffect;function Tt(e){const s=Le(),{control:t=s,disabled:i,name:u,exact:n}=e||{},[o,c]=v.useState(t._formState),V=v.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Me(()=>t._subscribe({name:u,formState:V.current,exact:n,callback:w=>{!i&&c({...t._formState,...w})}}),[u,i,n]),v.useEffect(()=>{V.current.isValid&&t._setValid(!0)},[t]),v.useMemo(()=>ft(o,t,V.current,!1),[o,t])}var $=e=>typeof e=="string",De=(e,s,t,i,u)=>$(e)?(i&&s.watch.add(e),y(t,e,u)):Array.isArray(e)?e.map(n=>(i&&s.watch.add(n),y(t,n))):(i&&(s.watchAll=!0),t),Ce=e=>z(e)||!lt(e);function Z(e,s,t=new WeakSet){if(Ce(e)||Ce(s))return Object.is(e,s);if(ne(e)&&ne(s))return Object.is(e.getTime(),s.getTime());const i=Object.keys(e),u=Object.keys(s);if(i.length!==u.length)return!1;if(t.has(e)||t.has(s))return!0;t.add(e),t.add(s);for(const n of i){const o=e[n];if(!u.includes(n))return!1;if(n!=="ref"){const c=s[n];if(ne(o)&&ne(c)||N(o)&&N(c)||Array.isArray(o)&&Array.isArray(c)?!Z(o,c,t):!Object.is(o,c))return!1}}return!0}function Ut(e){const s=Le(),{control:t=s,name:i,defaultValue:u,disabled:n,exact:o,compute:c}=e||{},V=v.useRef(u),w=v.useRef(c),I=v.useRef(void 0),m=v.useRef(t),k=v.useRef(i);w.current=c;const[b,p]=v.useState(()=>{const F=t._getWatch(i,V.current);return w.current?w.current(F):F}),R=v.useCallback(F=>{const A=De(i,t._names,F||t._formValues,!1,V.current);return w.current?w.current(A):A},[t._formValues,t._names,i]),U=v.useCallback(F=>{if(!n){const A=De(i,t._names,F||t._formValues,!1,V.current);if(w.current){const K=w.current(A);Z(K,I.current)||(p(K),I.current=K)}else p(A)}},[t._formValues,t._names,n,i]);Me(()=>((m.current!==t||!Z(k.current,i))&&(m.current=t,k.current=i,U()),t._subscribe({name:i,formState:{values:!0},exact:o,callback:F=>{U(F.values)}})),[t,o,i,U]),v.useEffect(()=>t._removeUnmounted());const T=m.current!==t,_=k.current,W=v.useMemo(()=>{if(n)return null;const F=!T&&!Z(_,i);return T||F?R():null},[n,T,i,_,R]);return W!==null?W:b}function Lt(e){const s=Le(),{name:t,disabled:i,control:u=s,shouldUnregister:n,defaultValue:o,exact:c=!0}=e,V=ct(u._names.array,t),w=v.useMemo(()=>y(u._formValues,t,y(u._defaultValues,t,o)),[u,t,o]),I=Ut({control:u,name:t,defaultValue:w,exact:c}),m=Tt({control:u,name:t,exact:c}),k=v.useRef(e),b=v.useRef(void 0),p=v.useRef(u.register(t,{...e.rules,value:I,...Y(e.disabled)?{disabled:e.disabled}:{}}));k.current=e;const R=v.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(m.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(m.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(m.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(m.validatingFields,t)},error:{enumerable:!0,get:()=>y(m.errors,t)}}),[m,t]),U=v.useCallback(F=>p.current.onChange({target:{value:ot(F),name:t},type:me.CHANGE}),[t]),T=v.useCallback(()=>p.current.onBlur({target:{value:y(u._formValues,t),name:t},type:me.BLUR}),[t,u._formValues]),_=v.useCallback(F=>{const A=y(u._fields,t);A&&A._f&&F&&(A._f.ref={focus:()=>j(F.focus)&&F.focus(),select:()=>j(F.select)&&F.select(),setCustomValidity:K=>j(F.setCustomValidity)&&F.setCustomValidity(K),reportValidity:()=>j(F.reportValidity)&&F.reportValidity()})},[u._fields,t]),W=v.useMemo(()=>({name:t,value:I,...Y(i)||m.disabled?{disabled:m.disabled||i}:{},onChange:U,onBlur:T,ref:_}),[t,i,m.disabled,U,T,_,I]);return v.useEffect(()=>{const F=u._options.shouldUnregister||n,A=b.current;A&&A!==t&&!V&&u.unregister(A),u.register(t,{...k.current.rules,...Y(k.current.disabled)?{disabled:k.current.disabled}:{}});const K=(te,re)=>{const ee=y(u._fields,te);ee&&ee._f&&(ee._f.mount=re)};if(K(t,!0),F){const te=L(y(u._options.defaultValues,t,k.current.defaultValue));S(u._defaultValues,t,te),O(y(u._formValues,t))&&S(u._formValues,t,te)}return!V&&u.register(t),b.current=t,()=>{(V?F&&!u._state.action:F)?u.unregister(t):K(t,!1)}},[t,u,V,n]),v.useEffect(()=>{u._setDisabledField({disabled:i,name:t})},[i,t,u]),v.useMemo(()=>({field:W,formState:m,fieldState:R}),[W,m,R])}const er=e=>e.render(Lt(e)),Ne=v.createContext(null);Ne.displayName="HookFormContext";const tr=()=>v.useContext(Ne),rr=e=>{const{children:s,watch:t,getValues:i,getFieldState:u,setError:n,clearErrors:o,setValue:c,trigger:V,formState:w,resetField:I,reset:m,handleSubmit:k,unregister:b,control:p,register:R,setFocus:U,subscribe:T}=e;return v.createElement(Ne.Provider,{value:v.useMemo(()=>({watch:t,getValues:i,getFieldState:u,setError:n,clearErrors:o,setValue:c,trigger:V,formState:w,resetField:I,reset:m,handleSubmit:k,unregister:b,control:p,register:R,setFocus:U,subscribe:T}),[o,p,w,u,i,k,R,m,I,n,U,c,T,V,b,t])},v.createElement(Ue.Provider,{value:p},s))};var dt=(e,s,t,i,u)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:u||!0}}:{},ye=e=>Array.isArray(e)?e:[e],Je=()=>{let e=[];return{get observers(){return e},next:u=>{for(const n of e)n.next&&n.next(u)},subscribe:u=>(e.push(u),{unsubscribe:()=>{e=e.filter(n=>n!==u)}}),unsubscribe:()=>{e=[]}}};function yt(e,s){const t={};for(const i in e)if(e.hasOwnProperty(i)){const u=e[i],n=s[i];if(u&&N(u)&&n){const o=yt(u,n);N(o)&&(t[i]=o)}else e[i]&&(t[i]=n)}return t}var H=e=>N(e)&&!Object.keys(e).length,pe=e=>e.type==="file",be=e=>{if(!Oe)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},gt=e=>e.type==="select-multiple",Pe=e=>e.type==="radio",Mt=e=>Pe(e)||he(e),Ee=e=>be(e)&&e.isConnected;function Nt(e,s){const t=s.slice(0,-1).length;let i=0;for(;i<t;)e=O(e)?i++:e[s[i++]];return e}function pt(e){for(const s in e)if(e.hasOwnProperty(s)&&!O(e[s]))return!1;return!0}function M(e,s){const t=Array.isArray(s)?s:_e(s)?[s]:Te(s),i=t.length===1?e:Nt(e,t),u=t.length-1,n=t[u];return i&&delete i[n],u!==0&&(N(i)&&H(i)||Array.isArray(i)&&pt(i))&&M(e,t.slice(0,-1)),e}var Pt=e=>{for(const s in e)if(j(e[s]))return!0;return!1};function ht(e){return Array.isArray(e)||N(e)&&!Pt(e)}function Se(e,s={}){for(const t in e){const i=e[t];ht(i)?(s[t]=Array.isArray(i)?[]:{},Se(i,s[t])):O(i)||(s[t]=!0)}return s}function le(e,s,t){t||(t=Se(s));for(const i in e){const u=e[i];if(ht(u))O(s)||Ce(t[i])?t[i]=Se(u,Array.isArray(u)?[]:{}):le(u,z(s)?{}:s[i],t[i]);else{const n=s[i];t[i]=!Z(u,n)}}return t}const Qe={value:!1,isValid:!1},Xe={value:!0,isValid:!0};var vt=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!O(e[0].attributes.value)?O(e[0].value)||e[0].value===""?Xe:{value:e[0].value,isValid:!0}:Xe:Qe}return Qe},mt=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:i})=>O(e)?e:s?e===""?NaN:e&&+e:t&&$(e)?new Date(e):i?i(e):e;const Ze={isValid:!1,value:null};var bt=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,Ze):Ze;function et(e){const s=e.ref;return pe(s)?s.files:Pe(s)?bt(e.refs).value:gt(s)?[...s.selectedOptions].map(({value:t})=>t):he(s)?vt(e.refs).value:mt(O(s.value)?e.ref.value:s.value,e)}var It=(e,s,t,i)=>{const u={};for(const n of e){const o=y(s,n);o&&S(u,n,o._f)}return{criteriaMode:t,names:[...e],fields:u,shouldUseNativeValidation:i}},Ve=e=>e instanceof RegExp,de=e=>O(e)?e:Ve(e)?e.source:N(e)?Ve(e.value)?e.value.source:e.value:e,tt=e=>({isOnSubmit:!e||e===X.onSubmit,isOnBlur:e===X.onBlur,isOnChange:e===X.onChange,isOnAll:e===X.all,isOnTouch:e===X.onTouched});const rt="AsyncFunction";var Bt=e=>!!e&&!!e.validate&&!!(j(e.validate)&&e.validate.constructor.name===rt||N(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===rt)),Wt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),st=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ge=(e,s,t,i)=>{for(const u of t||Object.keys(e)){const n=y(e,u);if(n){const{_f:o,...c}=n;if(o){if(o.refs&&o.refs[0]&&s(o.refs[0],u)&&!i)return!0;if(o.ref&&s(o.ref,o.name)&&!i)return!0;if(ge(c,s))break}else if(N(c)&&ge(c,s))break}}};function it(e,s,t){const i=y(e,t);if(i||_e(t))return{error:i,name:t};const u=t.split(".");for(;u.length;){const n=u.join("."),o=y(s,n),c=y(e,n);if(o&&!Array.isArray(o)&&t!==n)return{name:t};if(c&&c.type)return{name:n,error:c};if(c&&c.root&&c.root.type)return{name:`${n}.root`,error:c.root};u.pop()}return{name:t}}var qt=(e,s,t,i)=>{t(e);const{name:u,...n}=e;return H(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(o=>s[o]===(!i||X.all))},Ht=(e,s,t)=>!e||!s||e===s||ye(e).some(i=>i&&(t?i===s:i.startsWith(s)||s.startsWith(i))),jt=(e,s,t,i,u)=>u.isOnAll?!1:!t&&u.isOnTouch?!(s||e):(t?i.isOnBlur:u.isOnBlur)?!e:(t?i.isOnChange:u.isOnChange)?e:!0,Kt=(e,s)=>!Re(y(e,s)).length&&M(e,s),zt=(e,s,t)=>{const i=ye(y(e,t));return S(i,"root",s[t]),S(e,t,i),e};function at(e,s,t="validate"){if($(e)||Array.isArray(e)&&e.every($)||Y(e)&&!e)return{type:t,message:$(e)?e:"",ref:s}}var ue=e=>N(e)&&!Ve(e)?e:{value:e,message:""},nt=async(e,s,t,i,u,n)=>{const{ref:o,refs:c,required:V,maxLength:w,minLength:I,min:m,max:k,pattern:b,validate:p,name:R,valueAsNumber:U,mount:T}=e._f,_=y(t,R);if(!T||s.has(R))return{};const W=c?c[0]:o,F=x=>{u&&W.reportValidity&&(W.setCustomValidity(Y(x)?"":x||""),W.reportValidity())},A={},K=Pe(o),te=he(o),re=K||te,ee=(U||pe(o))&&O(o.value)&&O(_)||be(o)&&o.value===""||_===""||Array.isArray(_)&&!_.length,J=dt.bind(null,R,i,A),ve=(x,E,P,B=se.maxLength,Q=se.minLength)=>{const G=x?E:P;A[R]={type:x?B:Q,message:G,ref:o,...J(x?B:Q,G)}};if(n?!Array.isArray(_)||!_.length:V&&(!re&&(ee||z(_))||Y(_)&&!_||te&&!vt(c).isValid||K&&!bt(c).isValid)){const{value:x,message:E}=$(V)?{value:!!V,message:V}:ue(V);if(x&&(A[R]={type:se.required,message:E,ref:W,...J(se.required,E)},!i))return F(E),A}if(!ee&&(!z(m)||!z(k))){let x,E;const P=ue(k),B=ue(m);if(!z(_)&&!isNaN(_)){const Q=o.valueAsNumber||_&&+_;z(P.value)||(x=Q>P.value),z(B.value)||(E=Q<B.value)}else{const Q=o.valueAsDate||new Date(_),G=fe=>new Date(new Date().toDateString()+" "+fe),oe=o.type=="time",ce=o.type=="week";$(P.value)&&_&&(x=oe?G(_)>G(P.value):ce?_>P.value:Q>new Date(P.value)),$(B.value)&&_&&(E=oe?G(_)<G(B.value):ce?_<B.value:Q<new Date(B.value))}if((x||E)&&(ve(!!x,P.message,B.message,se.max,se.min),!i))return F(A[R].message),A}if((w||I)&&!ee&&($(_)||n&&Array.isArray(_))){const x=ue(w),E=ue(I),P=!z(x.value)&&_.length>+x.value,B=!z(E.value)&&_.length<+E.value;if((P||B)&&(ve(P,x.message,E.message),!i))return F(A[R].message),A}if(b&&!ee&&$(_)){const{value:x,message:E}=ue(b);if(Ve(x)&&!_.match(x)&&(A[R]={type:se.pattern,message:E,ref:o,...J(se.pattern,E)},!i))return F(E),A}if(p){if(j(p)){const x=await p(_,t),E=at(x,W);if(E&&(A[R]={...E,...J(se.validate,E.message)},!i))return F(E.message),A}else if(N(p)){let x={};for(const E in p){if(!H(x)&&!i)break;const P=at(await p[E](_,t),W,E);P&&(x={...P,...J(E,P.message)},F(P.message),i&&(A[R]=x))}if(!H(x)&&(A[R]={ref:W,...x},!i))return A}}return F(!0),A};const Gt={mode:X.onSubmit,reValidateMode:X.onChange,shouldFocusError:!0};function Yt(e={}){let s={...Gt,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:j(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},i={},u=N(s.defaultValues)||N(s.values)?L(s.defaultValues||s.values)||{}:{},n=s.shouldUnregister?{}:L(u),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},V,w=0;const I={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={...I};let k={...m};const b={array:Je(),state:Je()},p=s.criteriaMode===X.all,R=r=>a=>{clearTimeout(w),w=setTimeout(r,a)},U=async r=>{if(!o.keepIsValid&&!s.disabled&&(m.isValid||k.isValid||r)){let a;s.resolver?(a=H((await re()).errors),T()):a=await J(i,!0),a!==t.isValid&&b.state.next({isValid:a})}},T=(r,a)=>{!s.disabled&&(m.isValidating||m.validatingFields||k.isValidating||k.validatingFields)&&((r||Array.from(c.mount)).forEach(l=>{l&&(a?S(t.validatingFields,l,a):M(t.validatingFields,l))}),b.state.next({validatingFields:t.validatingFields,isValidating:!H(t.validatingFields)}))},_=(r,a=[],l,g,d=!0,f=!0)=>{if(g&&l&&!s.disabled){if(o.action=!0,f&&Array.isArray(y(i,r))){const h=l(y(i,r),g.argA,g.argB);d&&S(i,r,h)}if(f&&Array.isArray(y(t.errors,r))){const h=l(y(t.errors,r),g.argA,g.argB);d&&S(t.errors,r,h),Kt(t.errors,r)}if((m.touchedFields||k.touchedFields)&&f&&Array.isArray(y(t.touchedFields,r))){const h=l(y(t.touchedFields,r),g.argA,g.argB);d&&S(t.touchedFields,r,h)}(m.dirtyFields||k.dirtyFields)&&(t.dirtyFields=le(u,n)),b.state.next({name:r,isDirty:x(r,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else S(n,r,a)},W=(r,a)=>{S(t.errors,r,a),b.state.next({errors:t.errors})},F=r=>{t.errors=r,b.state.next({errors:t.errors,isValid:!1})},A=(r,a,l,g)=>{const d=y(i,r);if(d){const f=y(n,r,O(l)?y(u,r):l);O(f)||g&&g.defaultChecked||a?S(n,r,a?f:et(d._f)):B(r,f),o.mount&&!o.action&&U()}},K=(r,a,l,g,d)=>{let f=!1,h=!1;const D={name:r};if(!s.disabled){if(!l||g){(m.isDirty||k.isDirty)&&(h=t.isDirty,t.isDirty=D.isDirty=x(),f=h!==D.isDirty);const C=Z(y(u,r),a);h=!!y(t.dirtyFields,r),C?M(t.dirtyFields,r):S(t.dirtyFields,r,!0),D.dirtyFields=t.dirtyFields,f=f||(m.dirtyFields||k.dirtyFields)&&h!==!C}if(l){const C=y(t.touchedFields,r);C||(S(t.touchedFields,r,l),D.touchedFields=t.touchedFields,f=f||(m.touchedFields||k.touchedFields)&&C!==l)}f&&d&&b.state.next(D)}return f?D:{}},te=(r,a,l,g)=>{const d=y(t.errors,r),f=(m.isValid||k.isValid)&&Y(a)&&t.isValid!==a;if(s.delayError&&l?(V=R(()=>W(r,l)),V(s.delayError)):(clearTimeout(w),V=null,l?S(t.errors,r,l):M(t.errors,r)),(l?!Z(d,l):d)||!H(g)||f){const h={...g,...f&&Y(a)?{isValid:a}:{},errors:t.errors,name:r};t={...t,...h},b.state.next(h)}},re=async r=>(T(r,!0),await s.resolver(n,s.context,It(r||c.mount,i,s.criteriaMode,s.shouldUseNativeValidation))),ee=async r=>{const{errors:a}=await re(r);if(T(r),r)for(const l of r){const g=y(a,l);g?S(t.errors,l,g):M(t.errors,l)}else t.errors=a;return a},J=async(r,a,l={valid:!0})=>{for(const g in r){const d=r[g];if(d){const{_f:f,...h}=d;if(f){const D=c.array.has(f.name),C=d._f&&Bt(d._f);C&&m.validatingFields&&T([f.name],!0);const q=await nt(d,c.disabled,n,p,s.shouldUseNativeValidation&&!a,D);if(C&&m.validatingFields&&T([f.name]),q[f.name]&&(l.valid=!1,a||e.shouldUseNativeValidation))break;!a&&(y(q,f.name)?D?zt(t.errors,q,f.name):S(t.errors,f.name,q[f.name]):M(t.errors,f.name))}!H(h)&&await J(h,a,l)}}return l.valid},ve=()=>{for(const r of c.unMount){const a=y(i,r);a&&(a._f.refs?a._f.refs.every(l=>!Ee(l)):!Ee(a._f.ref))&&Fe(r)}c.unMount=new Set},x=(r,a)=>!s.disabled&&(r&&a&&S(n,r,a),!Z(Ie(),u)),E=(r,a,l)=>De(r,c,{...o.mount?n:O(a)?u:$(r)?{[r]:a}:a},l,a),P=r=>Re(y(o.mount?n:u,r,s.shouldUnregister?y(u,r,[]):[])),B=(r,a,l={})=>{const g=y(i,r);let d=a;if(g){const f=g._f;f&&(!f.disabled&&S(n,r,mt(a,f)),d=be(f.ref)&&z(a)?"":a,gt(f.ref)?[...f.ref.options].forEach(h=>h.selected=d.includes(h.value)):f.refs?he(f.ref)?f.refs.forEach(h=>{(!h.defaultChecked||!h.disabled)&&(Array.isArray(d)?h.checked=!!d.find(D=>D===h.value):h.checked=d===h.value||!!d)}):f.refs.forEach(h=>h.checked=h.value===d):pe(f.ref)?f.ref.value="":(f.ref.value=d,f.ref.type||b.state.next({name:r,values:L(n)})))}(l.shouldDirty||l.shouldTouch)&&K(r,d,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&fe(r)},Q=(r,a,l)=>{for(const g in a){if(!a.hasOwnProperty(g))return;const d=a[g],f=r+"."+g,h=y(i,f);(c.array.has(r)||N(d)||h&&!h._f)&&!ne(d)?Q(f,d,l):B(f,d,l)}},G=(r,a,l={})=>{const g=y(i,r),d=c.array.has(r),f=L(a);S(n,r,f),d?(b.array.next({name:r,values:L(n)}),(m.isDirty||m.dirtyFields||k.isDirty||k.dirtyFields)&&l.shouldDirty&&b.state.next({name:r,dirtyFields:le(u,n),isDirty:x(r,f)})):g&&!g._f&&!z(f)?Q(r,f,l):B(r,f,l),st(r,c)?b.state.next({...t,name:r,values:L(n)}):b.state.next({name:o.mount?r:void 0,values:L(n)})},oe=async r=>{o.mount=!0;const a=r.target;let l=a.name,g=!0;const d=y(i,l),f=C=>{g=Number.isNaN(C)||ne(C)&&isNaN(C.getTime())||Z(C,y(n,l,C))},h=tt(s.mode),D=tt(s.reValidateMode);if(d){let C,q;const ae=a.type?et(d._f):ot(r),ie=r.type===me.BLUR||r.type===me.FOCUS_OUT,Dt=!Wt(d._f)&&!s.resolver&&!y(t.errors,l)&&!d._f.deps||jt(ie,y(t.touchedFields,l),t.isSubmitted,D,h),we=st(l,c,ie);S(n,l,ae),ie?(!a||!a.readOnly)&&(d._f.onBlur&&d._f.onBlur(r),V&&V(0)):d._f.onChange&&d._f.onChange(r);const ke=K(l,ae,ie),Ct=!H(ke)||we;if(!ie&&b.state.next({name:l,type:r.type,values:L(n)}),Dt)return(m.isValid||k.isValid)&&(s.mode==="onBlur"?ie&&U():ie||U()),Ct&&b.state.next({name:l,...we?{}:ke});if(!ie&&we&&b.state.next({...t}),s.resolver){const{errors:Ye}=await re([l]);if(T([l]),f(ae),g){const St=it(t.errors,i,l),$e=it(Ye,i,St.name||l);C=$e.error,l=$e.name,q=H(Ye)}}else T([l],!0),C=(await nt(d,c.disabled,n,p,s.shouldUseNativeValidation))[l],T([l]),f(ae),g&&(C?q=!1:(m.isValid||k.isValid)&&(q=await J(i,!0)));g&&(d._f.deps&&(!Array.isArray(d._f.deps)||d._f.deps.length>0)&&fe(d._f.deps),te(l,q,C,ke))}},ce=(r,a)=>{if(y(t.errors,a)&&r.focus)return r.focus(),1},fe=async(r,a={})=>{let l,g;const d=ye(r);if(s.resolver){const f=await ee(O(r)?r:d);l=H(f),g=r?!d.some(h=>y(f,h)):l}else r?(g=(await Promise.all(d.map(async f=>{const h=y(i,f);return await J(h&&h._f?{[f]:h}:h)}))).every(Boolean),!(!g&&!t.isValid)&&U()):g=l=await J(i);return b.state.next({...!$(r)||(m.isValid||k.isValid)&&l!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:l}:{},errors:t.errors}),a.shouldFocus&&!g&&ge(i,ce,r?d:c.mount),g},Ie=(r,a)=>{let l={...o.mount?n:u};return a&&(l=yt(a.dirtyFields?t.dirtyFields:t.touchedFields,l)),O(r)?l:$(r)?y(l,r):r.map(g=>y(l,g))},Be=(r,a)=>({invalid:!!y((a||t).errors,r),isDirty:!!y((a||t).dirtyFields,r),error:y((a||t).errors,r),isValidating:!!y(t.validatingFields,r),isTouched:!!y((a||t).touchedFields,r)}),_t=r=>{r&&ye(r).forEach(a=>M(t.errors,a)),b.state.next({errors:r?t.errors:{}})},We=(r,a,l)=>{const g=(y(i,r,{_f:{}})._f||{}).ref,d=y(t.errors,r)||{},{ref:f,message:h,type:D,...C}=d;S(t.errors,r,{...C,...a,ref:g}),b.state.next({name:r,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&g&&g.focus&&g.focus()},Ft=(r,a)=>j(r)?b.state.subscribe({next:l=>"values"in l&&r(E(void 0,a),l)}):E(r,a,!0),qe=r=>b.state.subscribe({next:a=>{Ht(r.name,a.name,r.exact)&&qt(a,r.formState||m,Et,r.reRenderRoot)&&r.callback({values:{...n},...t,...a,defaultValues:u})}}).unsubscribe,xt=r=>(o.mount=!0,k={...k,...r.formState},qe({...r,formState:{...I,...r.formState}})),Fe=(r,a={})=>{for(const l of r?ye(r):c.mount)c.mount.delete(l),c.array.delete(l),a.keepValue||(M(i,l),M(n,l)),!a.keepError&&M(t.errors,l),!a.keepDirty&&M(t.dirtyFields,l),!a.keepTouched&&M(t.touchedFields,l),!a.keepIsValidating&&M(t.validatingFields,l),!s.shouldUnregister&&!a.keepDefaultValue&&M(u,l);b.state.next({values:L(n)}),b.state.next({...t,...a.keepDirty?{isDirty:x()}:{}}),!a.keepIsValid&&U()},He=({disabled:r,name:a})=>{if(Y(r)&&o.mount||r||c.disabled.has(a)){const d=c.disabled.has(a)!==!!r;r?c.disabled.add(a):c.disabled.delete(a),d&&o.mount&&!o.action&&U()}},xe=(r,a={})=>{let l=y(i,r);const g=Y(a.disabled)||Y(s.disabled);return S(i,r,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:r}},name:r,mount:!0,...a}}),c.mount.add(r),l?He({disabled:Y(a.disabled)?a.disabled:s.disabled,name:r}):A(r,!0,a.value),{...g?{disabled:a.disabled||s.disabled}:{},...s.progressive?{required:!!a.required,min:de(a.min),max:de(a.max),minLength:de(a.minLength),maxLength:de(a.maxLength),pattern:de(a.pattern)}:{},name:r,onChange:oe,onBlur:oe,ref:d=>{if(d){xe(r,a),l=y(i,r);const f=O(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,h=Mt(f),D=l._f.refs||[];if(h?D.find(C=>C===f):f===l._f.ref)return;S(i,r,{_f:{...l._f,...h?{refs:[...D.filter(Ee),f,...Array.isArray(y(u,r))?[{}]:[]],ref:{type:f.type,name:r}}:{ref:f}}}),A(r,!1,void 0,f)}else l=y(i,r,{}),l._f&&(l._f.mount=!1),(s.shouldUnregister||a.shouldUnregister)&&!(ct(c.array,r)&&o.action)&&c.unMount.add(r)}}},Ae=()=>s.shouldFocusError&&ge(i,ce,c.mount),At=r=>{Y(r)&&(b.state.next({disabled:r}),ge(i,(a,l)=>{const g=y(i,l);g&&(a.disabled=g._f.disabled||r,Array.isArray(g._f.refs)&&g._f.refs.forEach(d=>{d.disabled=g._f.disabled||r}))},0,!1))},je=(r,a)=>async l=>{let g;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let d=L(n);if(b.state.next({isSubmitting:!0}),s.resolver){const{errors:f,values:h}=await re();T(),t.errors=f,d=L(h)}else await J(i);if(c.disabled.size)for(const f of c.disabled)M(d,f);if(M(t.errors,"root"),H(t.errors)){b.state.next({errors:{}});try{await r(d,l)}catch(f){g=f}}else a&&await a({...t.errors},l),Ae(),setTimeout(Ae);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:H(t.errors)&&!g,submitCount:t.submitCount+1,errors:t.errors}),g)throw g},wt=(r,a={})=>{y(i,r)&&(O(a.defaultValue)?G(r,L(y(u,r))):(G(r,a.defaultValue),S(u,r,L(a.defaultValue))),a.keepTouched||M(t.touchedFields,r),a.keepDirty||(M(t.dirtyFields,r),t.isDirty=a.defaultValue?x(r,L(y(u,r))):x()),a.keepError||(M(t.errors,r),m.isValid&&U()),b.state.next({...t}))},Ke=(r,a={})=>{const l=r?L(r):u,g=L(l),d=H(r),f=d?u:g;if(a.keepDefaultValues||(u=l),!a.keepValues){if(a.keepDirtyValues){const h=new Set([...c.mount,...Object.keys(le(u,n))]);for(const D of Array.from(h)){const C=y(t.dirtyFields,D),q=y(n,D),ae=y(f,D);C&&!O(q)?S(f,D,q):!C&&!O(ae)&&G(D,ae)}}else{if(Oe&&O(r))for(const h of c.mount){const D=y(i,h);if(D&&D._f){const C=Array.isArray(D._f.refs)?D._f.refs[0]:D._f.ref;if(be(C)){const q=C.closest("form");if(q){q.reset();break}}}}if(a.keepFieldsRef)for(const h of c.mount)G(h,y(f,h));else i={}}n=s.shouldUnregister?a.keepDefaultValues?L(u):{}:L(f),b.array.next({values:{...f}}),b.state.next({values:{...f}})}c={mount:a.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!m.isValid||!!a.keepIsValid||!!a.keepDirtyValues||!s.shouldUnregister&&!H(f),o.watch=!!s.shouldUnregister,o.keepIsValid=!!a.keepIsValid,o.action=!1,a.keepErrors||(t.errors={}),b.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:d?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!Z(r,u)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:d?{}:a.keepDirtyValues?a.keepDefaultValues&&n?le(u,n):t.dirtyFields:a.keepDefaultValues&&r?le(u,r):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:u})},ze=(r,a)=>Ke(j(r)?r(n):r,{...s.resetOptions,...a}),kt=(r,a={})=>{const l=y(i,r),g=l&&l._f;if(g){const d=g.refs?g.refs[0]:g.ref;d.focus&&setTimeout(()=>{d.focus(),a.shouldSelect&&j(d.select)&&d.select()})}},Et=r=>{t={...t,...r}},Ge={control:{register:xe,unregister:Fe,getFieldState:Be,handleSubmit:je,setError:We,_subscribe:qe,_runSchema:re,_updateIsValidating:T,_focusError:Ae,_getWatch:E,_getDirty:x,_setValid:U,_setFieldArray:_,_setDisabledField:He,_setErrors:F,_getFieldArray:P,_reset:Ke,_resetDefaultValues:()=>j(s.defaultValues)&&s.defaultValues().then(r=>{ze(r,s.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:ve,_disableForm:At,_subjects:b,_proxyFormState:m,get _fields(){return i},get _formValues(){return n},get _state(){return o},set _state(r){o=r},get _defaultValues(){return u},get _names(){return c},set _names(r){c=r},get _formState(){return t},get _options(){return s},set _options(r){s={...s,...r}}},subscribe:xt,trigger:fe,register:xe,handleSubmit:je,watch:Ft,setValue:G,getValues:Ie,reset:ze,resetField:wt,clearErrors:_t,unregister:Fe,setError:We,setFocus:kt,getFieldState:Be};return{...Ge,formControl:Ge}}function sr(e={}){const s=v.useRef(void 0),t=v.useRef(void 0),[i,u]=v.useState({isDirty:!1,isValidating:!1,isLoading:j(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:j(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:i},e.defaultValues&&!j(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...c}=Yt(e);s.current={...c,formState:i}}const n=s.current.control;return n._options=e,Me(()=>{const o=n._subscribe({formState:n._proxyFormState,callback:()=>u({...n._formState}),reRenderRoot:!0});return u(c=>({...c,isReady:!0})),n._formState.isReady=!0,o},[n]),v.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),v.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),v.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),v.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),v.useEffect(()=>{if(n._proxyFormState.isDirty){const o=n._getDirty();o!==i.isDirty&&n._subjects.state.next({isDirty:o})}},[n,i.isDirty]),v.useEffect(()=>{var o;e.values&&!Z(e.values,t.current)?(n._reset(e.values,{keepFieldsRef:!0,...n._options.resetOptions}),!((o=n._options.resetOptions)===null||o===void 0)&&o.keepIsValid||n._setValid(),t.current=e.values,u(c=>({...c}))):n._resetDefaultValues()},[n,e.values]),v.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),s.current.formState=v.useMemo(()=>ft(i,n),[n,i]),s.current}const ut=(e,s,t)=>{if(e&&"reportValidity"in e){const i=y(t,s);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Vt=(e,s)=>{for(const t in s.fields){const i=s.fields[t];i&&i.ref&&"reportValidity"in i.ref?ut(i.ref,t,e):i.refs&&i.refs.forEach(u=>ut(u,t,e))}},$t=(e,s)=>{s.shouldUseNativeValidation&&Vt(e,s);const t={};for(const i in e){const u=y(s.fields,i),n=Object.assign(e[i]||{},{ref:u&&u.ref});if(Jt(s.names||Object.keys(e),i)){const o=Object.assign({},y(t,i));S(o,"root",n),S(t,i,o)}else S(t,i,n)}return t},Jt=(e,s)=>e.some(t=>t.startsWith(s+"."));var Qt=function(e,s){for(var t={};e.length;){var i=e[0],u=i.code,n=i.message,o=i.path.join(".");if(!t[o])if("unionErrors"in i){var c=i.unionErrors[0].errors[0];t[o]={message:c.message,type:c.code}}else t[o]={message:n,type:u};if("unionErrors"in i&&i.unionErrors.forEach(function(I){return I.errors.forEach(function(m){return e.push(m)})}),s){var V=t[o].types,w=V&&V[i.code];t[o]=dt(o,s,t,u,w?[].concat(w,i.message):i.message)}e.shift()}return t},ir=function(e,s,t){return t===void 0&&(t={}),function(i,u,n){try{return Promise.resolve((function(o,c){try{var V=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](i,s)).then(function(w){return n.shouldUseNativeValidation&&Vt({},n),{errors:{},values:t.raw?i:w}})}catch(w){return c(w)}return V&&V.then?V.then(void 0,c):V})(0,function(o){if((function(c){return Array.isArray(c?.errors)})(o))return{values:{},errors:$t(Qt(o.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw o}))}catch(o){return Promise.reject(o)}}};export{er as C,rr as F,sr as a,ir as t,tr as u};
