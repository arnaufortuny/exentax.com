import{j as e,m as p}from"./vendor-DoqeAWLV.js";import{a as r,s as h}from"./ui-DQs5cT5J.js";import{u as f,F as j,t as b,o as g,s as v}from"./form-DPaYdZ4w.js";import{c as N,N as i,L as n,B as l,F as o,d as y}from"./index-B4plyIND.js";import{F as w}from"./form-input-WL-FopQm.js";import"./textarea-jZCJtOuD.js";import"./select-DUrm1R9_.js";import"./checkbox-gLd055QV.js";import"./label-B_CBzfAp.js";const k=g({email:v().email("Email inválido")});function B(){const[s,a]=r.useState(!1),[c,m]=r.useState(!1),{toast:d}=N(),t=f({resolver:b(k),defaultValues:{email:""}}),x=async u=>{a(!0);try{await y("POST","/api/auth/forgot-password",u),m(!0)}catch{d({title:"Error",description:"No se pudo procesar la solicitud",variant:"destructive"})}finally{a(!1)}};return c?e.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[e.jsx(i,{}),e.jsx("main",{className:"pt-24 pb-16 px-5 sm:px-6 flex flex-col items-center justify-center min-h-[80vh]",children:e.jsxs(p.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md text-center",children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-black text-primary tracking-tight mb-4",children:["Revisa tu ",e.jsx("span",{className:"text-accent",children:"Email"})]}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"Si el email existe en nuestro sistema, recibirás instrucciones para restablecer tu contraseña."}),e.jsx(n,{href:"/login",children:e.jsx(l,{variant:"ghost",className:"rounded-full px-8 font-black text-muted-foreground hover:text-primary hover:bg-transparent","data-testid":"button-back-to-login",children:"Volver al Login"})})]})}),e.jsx(o,{})]}):e.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[e.jsx(i,{}),e.jsx("main",{className:"pt-24 pb-16 px-5 sm:px-6 flex flex-col items-center justify-center min-h-[80vh]",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl font-black text-primary tracking-tight",children:["Recuperar ",e.jsx("span",{className:"text-accent",children:"Contraseña"})]}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Te enviaremos un enlace para restablecer tu contraseña"})]}),e.jsxs("div",{children:[e.jsx(j,{...t,children:e.jsxs("form",{onSubmit:t.handleSubmit(x),className:"space-y-6",children:[e.jsx(w,{control:t.control,name:"email",label:"Email",type:"email",inputMode:"email",placeholder:"tu@email.com"}),e.jsx(l,{type:"submit",disabled:s,className:"w-full bg-[#6EDC8A] text-primary font-black py-7 rounded-full text-lg shadow-lg shadow-[#6EDC8A]/20 active:scale-95 transition-all","data-testid":"button-forgot-password",children:s?e.jsx(h,{className:"animate-spin"}):"Enviar Enlace"})]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(n,{href:"/login",children:e.jsx("span",{className:"text-sm text-muted-foreground hover:text-primary transition-colors cursor-pointer",children:"Volver al Login"})})})]})]})}),e.jsx(o,{})]})}export{B as default};
